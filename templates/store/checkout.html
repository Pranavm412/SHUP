{% extends 'base.html' %}
{% load static %}

{% block content %}

<section class="bg-white py-8 antialiased dark:bg-gray-900 md:py-16">
    <div class="text-center font-bold text-5xl">CHECKOUT</div>
    <form action="{% url 'place_order' %}" class="mx-auto max-w-screen-xl px-4 2xl:px-0" method="POST">
        {% csrf_token %}
  
      <div class="mt-6 sm:mt-8 lg:flex lg:items-start lg:gap-12 xl:gap-16">
        <div class="min-w-0 flex-1 space-y-8">
          <div class="space-y-4">
            <h2 class="text-xl font-semibold text-gray-900 dark:text-black">Delivery Details</h2>
  
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <div>
                <label for="first_name" class="mb-2 block text-sm font-medium text-gray-900 dark:text-black"> First Name </label>
                <input type="text" name="first_name" id="first_name" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black capitalize dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" placeholder="Your First Name" value="{{user.first_name}}" required />
              </div>

              <div>
                <label for="last_name" class="mb-2 block text-sm font-medium text-gray-900 dark:text-black"> Last Name </label>
                <input type="text" name="last_name" id="last_name" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black capitalize dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" placeholder="Your Last Name" value="{{user.last_name}}" required />
              </div>

              <div>
                <label for="phone" class="mb-2 block text-sm font-medium text-gray-900 dark:text-black"> Phone Number </label>
                <input type="number" name="phone" id="phone" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black capitalize dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" placeholder="Your Phone Number" value="{{user.phone_number}}" required />
              </div>
  
              <div>
                <label for="email" class="mb-2 block text-sm font-medium text-gray-900 dark:text-black"> Your email </label>
                <input type="email" name="email" id="email" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" placeholder="demo@email.com" value="{{user.email}}" required />
              </div>

              <div>
                <label for="address_line_1" class="mb-2 block text-sm font-medium text-gray-900 dark:text-black"> Address Line 1 </label>
                <input type="text" name="address_line_1" id="address_line_1" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black capitalize dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" placeholder="Address Line 1" value="{{user.address_line_1}}" required />
              </div>
              
              <div>
                <label for="address_line_2" class="mb-2 block text-sm font-medium text-gray-900 dark:text-black"> Address Line 2 </label>
                <input type="text" name="address_line_2" id="address_line_2" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black capitalize dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" placeholder="Address Line 2" value="{{user.address_line_2}}" required />
              </div>
  
              <div>
                <div class="mb-2 flex items-center gap-2">
                  <label for="select-country-input-3" class="block text-sm font-medium text-gray-900 dark:text-black"> State </label>
                </div>
                <select onchange="print_city('state', this.selectedIndex);" id="sts" name ="state" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" required></select>
                
                <script language="javascript">print_state("sts");</script>
                
              </div>
  
              <div>
                <div class="mb-2 flex items-center gap-2">
                  <label for="select-city-input-3" class="block text-sm font-medium text-gray-900 dark:text-black"> City </label>
                </div>
                <select name="city" id ="state" class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-50 dark:text-black dark:placeholder:text-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500" required></select>
                
              </div>
            </div>
          </div>
        </div>
  
        <div class="mt-6 pt-15 w-full space-y-6 sm:mt-8 lg:mt-0 lg:max-w-xs xl:max-w-md">
          <div class="flow-root">
            <div class="-my-3 divide-y divide-gray-200 dark:divide-gray-800">
              <dl class="flex items-center justify-between gap-4 py-3">
                <dt class="text-base font-normal text-black dark:text-black">Subtotal</dt>
                <dd class="text-base font-medium text-gray-900 dark:text-black">₹{{total}}</dd>
              </dl>
  
              <dl class="flex items-center justify-between gap-4 py-3">
                <dt class="text-base font-normal text-black dark:text-black">Tax 15%</dt>
                <dd class="text-base font-medium text-gray-900 dark:text-black">₹{{tax}}</dd>
              </dl>
  
              <dl class="flex items-center justify-between gap-4 py-3">
                <dt class="text-base font-bold text-gray-900 dark:text-black">Total</dt>
                <dd class="text-base font-bold text-gray-900 dark:text-black">₹{{grand_total}}</dd>
              </dl>
            </div>
          </div>
  
          <div class="space-y-3">
            <button type="submit" class="flex w-full items-center justify-center rounded-lg bg-primary-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-primary-800 focus:outline-none focus:ring-4 focus:ring-primary-300 dark:bg-blue-500 dark:hover:bg-primary-700 dark:focus:ring-primary-800" id="orderpaymentbutton">Submit Order</button>
  
          </div>
        </div>
      </div>
    </form>
  </section>
  <script>
    function updateButtonText(radio) {
        // Get the button element
        let button = document.getElementById("orderpaymentbutton");

        // Update button text based on selected radio value
        button.textContent = radio.value;
    }
</script>

{% endblock %}